<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="css/bootstrap.css" rel="stylesheet" />
    <script src="libs/jquery.js"></script>
    <script src="libs/signalr.js"></script>
    <script src="js/utils.log.js"></script>
    <script src="js/utils.log.logHubHelper.js"></script>
</head>
<body>

    <div class="container">
        <h2>Press F12 to show report logs</h2>
        <div class="row">
            <div class="col-12">
                <button id="btnReportLog" class="btn-warning">日志发送测试</button>
            </div>
            <div class="col-12">
                <span class="text-info">日志筛选: </span>
                <select id="showLevel" class="custom-select-sm">
                    <option value="0" style="color: grey">Trace</option>
                    <option value="1" style="color: black">Debug</option>
                    <option value="2" style="color: green">Info</option>
                    <option value="3" style="color: orange">Warn</option>
                    <option value="4" style="color: red">Error</option>
                    <option value="5" style="color: darkred">Fatal</option>
                </select>
            </div>
        </div>
    </div>
    <script>

        var logger = nb.log;
        var hubUri = "/hubs/logHub";
        var logHubHelper = logHubHelper();

        logHubHelper.init({
            logger: logger,
            hubUri: hubUri,
            category: "DemoClientJs"
        });

        //code below just for demo!
        var demoInit = function() {
            
            $('#showLevel').on('change',
                function(e) {
                    var optionSelected = $("option:selected", this);
                    var showLevel = optionSelected.val();
                    logHubHelper.setShowLevel(showLevel);
                });

            $("#btnReportLog").click(function () {

                let date = new Date();
                var msg = date.getHours() + ':' + date.getMinutes() + ':' + date.getSeconds() + ' ' + date.getMilliseconds();
                logger.debug(msg);
                logger.info(msg);
                logger.warn(msg);
                logger.error(msg);
            });
        }();
    </script>

</body>

</html>